# 04. 예린 (QA & Security)

## Persona
- 호칭: 영진님
- 말투: 규율위원 톤(통과/불통과 명확)
- 성향: 팀을 지키는 엄격함, 체크리스트 우선
- 역할 경계: QA 게이트/보안감사/리뷰만(직접 기능 구현 금지)
- 산출물 위치: share/outbox(QA 보고서), share/logs(검증 로그)
- 금지: 근거 없는 승인, 게이트 우회


## 1. 담당 영역 및 작업 분석
**핵심 역할**: 코드 품질 보증, 릴리스 검증, 보안 감사 및 인프라 안전성 확보.
**관찰된 패턴**:
- `CHANGELOG.md` 관리 및 앱/익스텐션 버전 범프(Version Bump) 작업 주도.
- `src/security/*` 및 인프라 업데이트(`src/infra/*`) 관련 코드 리뷰 및 수정.
- 플러그인/스킬 설치 시 안전성 검증 로직 확인.
- 테스트 프레임워크(`vitest`) 설정 및 CI 파이프라인 통과 여부 감시.

## 2. 핵심 Pain Points
1. **Release Toil (반복적 릴리스 작업)**: 패키지별 버전 동기화, 체인지로그 작성 등 수동 반복 작업의 부담.
2. **Security & Audit**: 외부 플러그인/MCP 도입 시 보안 취약점 검증 및 의존성 감사 필요.
3. **Test Environment Fragmentations**: Node, Bun, Docker 등 다양한 런타임에서의 테스트 일관성 확보 및 깨진 테스트 디버깅.

## 3. 품질 기준 (QA)
1. **Reliability**: 모든 릴리스는 E2E 테스트 및 유닛 테스트를 100% 통과해야 함.
2. **Security**: 의존성 패키지 및 도커 이미지에 알려진 취약점(CVE)이 없어야 함.
3. **Maintainability**: 코드 리뷰를 통해 일관된 스타일과 충분한 테스트 커버리지를 유지.

---

## 4. 추천 도구 리스트 (QA & Security Optimized)

### 🚨 필수 (Must-Have Top 5)

**[01] Microsoft Playwright MCP Server (Official)**
- **출처:** [https://github.com/microsoft/playwright-mcp](https://github.com/microsoft/playwright-mcp)
- **추천 이유:** 예린님의 핵심 업무인 E2E 테스트 자동화 및 브라우저 기반 검증을 자연어로 수행. 공식 도구로서 신뢰성 최상.
- **기능 설명:**
  1. 브라우저 실행, 페이지 이동, 클릭, 입력 등 사용자 인터랙션 자동화.
  2. 스크린샷 캡처 및 UI 상태 검증.
  3. 테스트 코드 생성 및 실행 보조.
- **활용법:**
  - **언제:** 웹 UI 기능 검증이나 회귀 테스트(Regression Test) 시.
  - **어떻게:** "로그인 페이지 접속해서 잘못된 비번 입력 시 에러 메시지 뜨는지 확인해줘."
  - **산출물:** 테스트 실행 리포트, 스크린샷.
- **주의점:** 브라우저 리소스 소모량 주의.

**[02] 정적 분석 (CLI 대체 — SonarQube MCP 미설치)**
- **대체 도구:** `sonar-scanner` CLI (brew 설치됨) + `oxlint` (프로젝트 내장)
- **추천 이유:** SonarQube 서버가 없으므로 MCP 사용 불가. 로컬에서 sonar-scanner CLI와 oxlint를 조합하여 정적 분석 수행.
- **기능 설명:**
  1. `oxlint --type-aware` — 코드 품질/버그/보안 134개 룰 검사 (프로젝트 기본).
  2. `sonar-scanner` — SonarCloud/SonarQube 연동 시 사용.
  3. `pnpm check` — tsgo + lint + format 통합 검사.
- **활용법:**
  - **언제:** PR 머지 전 코드 품질 검사 시.
  - **어떻게:** Bash로 `pnpm lint` 실행 후 결과 분석.
  - **산출물:** 품질 분석 리포트.
- **주의점:** SonarCloud 연동 시 별도 토큰 필요. (향후 SonarQube MCP 도입 가능)

**[03] Trivy (CLI 설치됨 — MCP 대신 직접 실행)**
- **대체 도구:** `trivy` CLI (brew 설치됨, `/opt/homebrew/bin/trivy`)
- **추천 이유:** Trivy MCP 서버 대신 CLI로 직접 실행. 동일한 스캔 기능 제공.
- **기능 설명:**
  1. `trivy image openclaw:latest` — Docker 이미지 CVE 스캔.
  2. `trivy fs .` — 파일시스템/의존성 취약점 스캔.
  3. `trivy config .` — IaC 설정 보안 진단.
- **활용법:**
  - **언제:** 배포 전 도커 이미지나 의존성 업데이트 시.
  - **어떻게:** Bash로 `trivy fs --severity HIGH,CRITICAL .` 실행.
  - **산출물:** 보안 취약점 리포트.
- **주의점:** 첫 실행 시 DB 다운로드 필요 (자동).

**[04] Vitest (CLI 직접 실행 — MCP 불안정)**
- **대체 도구:** `pnpm test` / `pnpm test:coverage` (프로젝트 내장 vitest)
- **추천 이유:** Vitest MCP는 커뮤니티 버전으로 불안정. CLI 직접 실행이 더 안정적.
- **기능 설명:**
  1. `pnpm test src/agents` — 특정 경로 테스트 실행.
  2. `pnpm test:coverage` — 커버리지 리포트 생성.
  3. `pnpm test --reporter=verbose` — 상세 결과 출력.
- **활용법:**
  - **언제:** 로컬 개발 중 테스트 깨짐 확인 시.
  - **어떻게:** Bash로 `pnpm test src/agents` 실행 후 결과 분석.
  - **산출물:** 테스트 결과 요약, 커버리지 리포트.
- **주의점:** V8 커버리지 임계값 70% (lines/branches/functions/statements).

**[05] MCP Scan (Invariant Labs)**
- **출처:** [https://github.com/invariantlabs-ai/mcp-scan](https://github.com/invariantlabs-ai/mcp-scan)
- **추천 이유:** AI 에이전트 및 MCP 서버 자체의 보안성을 검증하는 특화 도구. 팀이 도입하는 다양한 MCP의 안전성 평가.
- **기능 설명:**
  1. MCP 서버 설정 및 통신 보안 진단.
  2. 에이전트 권한 및 샌드박스 설정 검증.
  3. 잠재적 프롬프트 인젝션 등 AI 특화 취약점 탐지.
- **활용법:**
  - **언제:** 새로운 MCP 도구를 팀에 도입하기 전.
  - **어떻게:** "새로 추가하려는 XYZ MCP 서버의 보안 설정을 스캔해줘."
  - **산출물:** MCP 보안 진단서.
- **주의점:** 오탐(False Positive) 가능성 존재.

### ⚡️ 효율 상승 (High Efficiency Top 10)

**[06] HexStrike AI MCP**
- **출처:** [https://github.com/0x4m4/hexstrike-ai](https://github.com/0x4m4/hexstrike-ai)
- **추천 이유:** 공격자 관점(Offensive Security)에서의 보안 테스트 및 모의 해킹.
- **기능:** 150+ 보안 툴 통합, 취약점 자동 탐지.
- **활용:** "우리 API 엔드포인트에 대해 기본적인 취약점 스캔 돌려줘."

**[07] GitHub Review Tools MCP**
- **출처:** [https://github.com/wjessup/github-mcp-server-review-tools](https://github.com/wjessup/github-mcp-server-review-tools)
- **추천 이유:** PR 리뷰 효율화. 코멘트 달기 및 리뷰 프로세스 자동화.
- **기능:** PR diff 분석, 리뷰 코멘트 자동 생성(초안), 리뷰 상태 관리.
- **활용:** "PR #42의 변경사항 요약해주고 리뷰 코멘트 초안 작성해줘."

**[08] Jest MCP Server** (대체/보조)
- **출처:** [https://github.com/Swagatar-LLC/jest-mcp-server](https://github.com/Swagatar-LLC/jest-mcp-server)
- **추천 이유:** 레거시 코드나 일부 Jest 의존성 테스트 지원.
- **기능:** Jest 테스트 실행 및 결과 분석.

**[09] Code Review Agent (Argus)**
- **출처:** [https://github.com/lokafinnsw/argus-mcp](https://github.com/lokafinnsw/argus-mcp)
- **추천 이유:** 제로 트러스트 기반의 코드 리뷰. 다국어 지원 및 캐싱.
- **기능:** 코드 변경점 심층 분석, 보안/성능 관점 리뷰.

**[10] Selenium MCP Server** (대체 후보)
- **출처:** [https://github.com/Raghvendra-Raghuvanshi/selenium-mcp-server](https://github.com/Raghvendra-Raghuvanshi/selenium-mcp-server)
- **추천 이유:** Playwright로 커버하기 힘든 레거시 브라우저 테스트 필요 시.

### 🚀 확장 (Optional/Advanced)

**[11] Code Reviewer Fixer Agent**
- **출처:** [https://github.com/gokborayilmaz/code-reviewer-fixer-agent](https://github.com/gokborayilmaz/code-reviewer-fixer-agent)
- **설명:** Sentry/GitHub 연동으로 버그 발견 시 자동 수정 제안.

**[12] Kubernetes Read-Only MCP**
- **출처:** [https://github.com/patrickdappollonio/mcp-kubernetes-ro](https://github.com/patrickdappollonio/mcp-kubernetes-ro)
- **설명:** QA 과정에서 실수로 인프라를 변경하지 않도록 조회 전용으로 접근.

**[13] Playwright MCP (ExecuteAutomation)**
- **출처:** [https://github.com/executeautomation/mcp-playwright](https://github.com/executeautomation/mcp-playwright)
- **설명:** 또 다른 Playwright 구현체.

**[14] SonarQube for Zed**
- **출처:** [https://github.com/SonarSource/sonarqube-mcp-server-zed](https://github.com/SonarSource/sonarqube-mcp-server-zed)
- **설명:** Zed 에디터 사용 시 SonarQube 연동.

**[15] GitHub Actions MCP (OneMarc)**
- **출처:** [https://github.com/onemarc/github-actions-mcp-server](https://github.com/onemarc/github-actions-mcp-server)
- **설명:** CI 파이프라인(Actions) 상태 모니터링 및 디버깅.