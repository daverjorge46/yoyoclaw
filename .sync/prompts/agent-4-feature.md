# Agent 4: ê¸°ëŠ¥ ê°œë°œì - ì‘ì—… ì§€ì‹œì„œ

## ë„ˆì˜ ì—­í• 
OpenClawì˜ ë©€í‹°ì—ì´ì „íŠ¸ + ìŠ¤í‚¬ ì‹œìŠ¤í…œì„ ê°œì„ í•˜ëŠ” ê¸°ëŠ¥ ê°œë°œì.

## í”„ë¡œì íŠ¸ ê²½ë¡œ
```
/Users/jeon-yeongjin/Desktop/ğŸ’» ê°œë°œ/1. GIT/03. ì˜¤í”ˆí´ë¡œ/
```

## ë¸Œëœì¹˜
`improve/master-guide` (ì´ë¯¸ ì²´í¬ì•„ì›ƒë¨)

## ì‘ì—… ëª©ë¡

### 1. sessions_spawn allowlist ìë™ ì„¤ì • ê°œì„ 
- `src/agents/openclaw-tools.subagents.sessions-spawn-*.test.ts` - ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì „ì²´ í™•ì¸
- `src/agents/openclaw-tools.ts` - sessions_spawn êµ¬í˜„ë¶€
- `src/agents/subagent-registry.ts` - ì„œë¸Œì—ì´ì „íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬
- `src/agents/subagent-announce.ts` - ì„œë¸Œì—ì´ì „íŠ¸ ì•Œë¦¼
- ê°œì„  í¬ì¸íŠ¸:
  - allowlistê°€ ìë™ìœ¼ë¡œ êµ¬ì„±ë˜ëŠ”ì§€
  - ìƒˆ ì—ì´ì „íŠ¸ ì¶”ê°€ ì‹œ ìˆ˜ë™ ì„¤ì • í•„ìš” ì—¬ë¶€
  - cross-agent spawning ì„¤ì • ê°„ì†Œí™”

### 2. ë©€í‹°ì—ì´ì „íŠ¸ ë¼ìš´ë“œ ê´€ë¦¬ (ìë™ ì¢…ë£Œ + í† ë¡  êµ¬ì¡°)
- `src/agents/pi-embedded-runner.ts` - ì—ì´ì „íŠ¸ ì‹¤í–‰ ë©”ì¸
- `src/agents/pi-embedded-subscribe.ts` - ìŠ¤íŠ¸ë¦¼ êµ¬ë…/ê´€ë¦¬
- `src/agents/timeout.ts` - íƒ€ì„ì•„ì›ƒ ì„¤ì •
- `src/agents/subagent-announce.ts` - ì—ì´ì „íŠ¸ ê°„ ë©”ì‹œì§€ ê³µìœ 
- ê°œì„  í¬ì¸íŠ¸:
  - ë¼ìš´ë“œê°€ ë¬´í•œíˆ ê³„ì†ë˜ëŠ” ìƒí™© ë°©ì§€
  - ìµœëŒ€ ë¼ìš´ë“œ ìˆ˜ ì„¤ì •
  - ë¼ìš´ë“œ ìë™ ì¢…ë£Œ ì¡°ê±´ ëª…í™•í™”

#### ì¶”ê°€: íŒ€ í† ë¡  ë¼ìš´ë“œ êµ¬ì¡° (ë¯¸ë£¨ ì œì•ˆ íŒ©íŠ¸ì²´í¬ ë°˜ì˜)
íŒ€ ì—ì´ì „íŠ¸ ê°„ í† ë¡ ì— R1â†’R2â†’R3 ë¼ìš´ë“œ êµ¬ì¡° ë„ì… ê²€í† . ì•„ë˜ ì œì•ˆì„ **ì‹¤ì œ ì½”ë“œ ê¸°ì¤€ìœ¼ë¡œ íŒ©íŠ¸ì²´í¬** í›„ ë°˜ì˜ ê°€ëŠ¥í•œ ê²ƒë§Œ ë°˜ì˜:

**ê²€ì¦ í•­ëª©:**
1. **R1â†’R2â†’R3 ë¼ìš´ë“œ**: `sessions_send`ë¡œ í˜„ì¬ë„ êµ¬í˜„ ê°€ëŠ¥í•œì§€ í™•ì¸. ë³„ë„ ë¼ìš´ë“œ ê´€ë¦¬ ì½”ë“œê°€ í•„ìš”í•œì§€ ì•„ë‹ˆë©´ ì„¸ë‚˜(ì½”ë””ë„¤ì´í„° ì—ì´ì „íŠ¸)ê°€ ìˆ˜ë™ ê´€ë¦¬í•˜ë©´ ë˜ëŠ”ì§€ íŒë‹¨
2. **ê³µìœ  ë©”ëª¨ë¦¬ (Redis)**: í˜„ì¬ OpenClawì— Redis ì˜ì¡´ì„±ì´ ìˆëŠ”ì§€ í™•ì¸. ì—†ìœ¼ë©´ êµ¬í˜„ ë¶ˆê°€ë¡œ íŒì • â†’ ëŒ€ì•ˆìœ¼ë¡œ íŒŒì¼ ê¸°ë°˜ ê³µìœ  ìƒíƒœ ê²€í† 
3. **ì ìˆ˜í™” ì‹œìŠ¤í…œ**: ì—ì´ì „íŠ¸ ê°„ ì •ëŸ‰ í‰ê°€ ì‹œìŠ¤í…œì´ ì½”ë“œì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸. ì—†ìœ¼ë©´ "ë¶ˆí•„ìš”"ë¡œ íŒì • (ì£¼ê´€ì  ì ìˆ˜í™”ëŠ” ì‹¤íš¨ì„± ì—†ìŒ)
4. **í† ë¡  ê²°ê³¼ ìš”ì•½ ê³µê°œ**: í† ë¡  ì¢…ë£Œ í›„ ê·¸ë£¹ ì±„ë„ì— ìš”ì•½ì„ ìë™ ê³µê°œí•˜ëŠ” ê¸°ëŠ¥ì´ ê°€ëŠ¥í•œì§€ í™•ì¸ (ì±„ë„ ë¼ìš°íŒ… ì½”ë“œ ì°¸ì¡°: `src/routing/`, `src/channels/`)

**íŒ©íŠ¸ì²´í¬ ê¸°ì¤€:**
- ì‹¤ì œ ì½”ë“œì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì¸ì§€
- ì¶”ê°€ ì¸í”„ë¼(Redis ë“±) ì—†ì´ ê°€ëŠ¥í•œì§€
- sessions_send íƒ€ì„ì•„ì›ƒ ì´ìŠˆê°€ ì‹¤ì¬í•˜ëŠ”ì§€

**ê²°ê³¼ë¥¼ `.sync/agents/agent-4-feature.md`ì— íŒ©íŠ¸ì²´í¬ ë¦¬í¬íŠ¸ë¡œ ê¸°ë¡í•  ê²ƒ.**

### 3. MCP ë¸Œë¦¿ì§€ í”„ë¡œí† íƒ€ì… (MCP ì„œë²„ â†’ ìŠ¤í‚¬ ë³€í™˜)
- `src/plugin-sdk/index.ts` - í”ŒëŸ¬ê·¸ì¸ SDK ì¸í„°í˜ì´ìŠ¤
- `skills/mcporter/` - ê¸°ì¡´ MCP í¬í„° ìŠ¤í‚¬ í™•ì¸
- MCP ì„œë²„ë¥¼ OpenClaw ìŠ¤í‚¬ë¡œ ìë™ ë³€í™˜í•˜ëŠ” ë¸Œë¦¿ì§€ ê²€í† 
- í˜„ì¬ êµ¬í˜„ ìƒíƒœ íŒŒì•… í›„ ê°œì„ ì  ì œì•ˆ

### 4. ìŠ¤í‚¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
- `src/agents/skills.ts` - ìŠ¤í‚¬ ë©”íƒ€ë°ì´í„° íŒŒì‹±
- `skills/` ë””ë ‰í† ë¦¬ì—ì„œ ì•„ë¬´ ìŠ¤í‚¬ í•˜ë‚˜ ì—´ì–´ì„œ í˜„ì¬ êµ¬ì¡° í™•ì¸
- SKILL.md ë˜ëŠ” ìŠ¤í‚¬ ì •ì˜ íŒŒì¼ì— version í•„ë“œê°€ ìˆëŠ”ì§€ í™•ì¸
- ì—†ìœ¼ë©´ version í•„ë“œ ì¶”ê°€ ë°©ì•ˆ ì„¤ê³„

### 5. íŒ€ ë¹Œë” ìŠ¤í‚¬ ê°œì„ 
- `skills/` ë‚´ team-builder ê´€ë ¨ ìŠ¤í‚¬ ì°¾ê¸°
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/06-team-builder-skill.md` - íŒ€ ë¹Œë” ê°€ì´ë“œ
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/07-team-attraction-analysis.md` - ì„¸ë‚˜íŒ€ ë¶„ì„ + ì´ìŠˆ í•´ê²°ë²•
  - sessions_send ê¸°ë°˜ A2A ìƒí˜¸ì‘ìš© ê°œì„ 
  - ë¹„ë™ê¸° ì‘ì—… ê´€ë¦¬ (MEMORY.md, cron ê¸°ë°˜)
  - ê²°ê³¼ë¬¼ í’ˆì§ˆ ì¼ê´€ì„± (ê³µí†µ ì¶œë ¥ í…œí”Œë¦¿)
  - ì»¨í…ìŠ¤íŠ¸ ê³µìœ  (ê³µìœ  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒŒì¼)
- ê°€ì´ë“œì—ì„œ ì œì•ˆí•˜ëŠ” ê°œì„ ì‚¬í•­ ì½”ë“œì— ë°˜ì˜

### 6. ìŠ¤í‚¬ ë¹Œë” ìŠ¤í‚¬ ê°œëŸ‰ (OpenClaw ë§ì¶¤)
**ë² ì´ìŠ¤ ìŠ¤í‚¬**: `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/agent-skill-builder-pro.skill` (ZIP ì•„ì¹´ì´ë¸Œ)
- ì••ì¶• í•´ì œ: `cd /tmp && unzip "ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/agent-skill-builder-pro.skill"`
- ë‚´ìš©ë¬¼:
  ```
  agent-skill-builder-pro/
  â”œâ”€â”€ SKILL.md                          â† ë©”ì¸ (v9.0, TDD-First + Evaluation-First)
  â”œâ”€â”€ references/
  â”‚   â”œâ”€â”€ cso_guide.md                  â† Claude Search Optimization
  â”‚   â”œâ”€â”€ evaluation_methodology.md     â† í‰ê°€ ë°©ë²•ë¡ 
  â”‚   â”œâ”€â”€ interactive_mode.md           â† ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ
  â”‚   â”œâ”€â”€ kr_enterprise.md              â† í•œêµ­ í˜„ì§€í™”
  â”‚   â”œâ”€â”€ mcp_integration.md            â† MCP í†µí•©
  â”‚   â”œâ”€â”€ pressure_testing.md           â† í•©ë¦¬í™” ë°©ì§€ í…ŒìŠ¤íŒ…
  â”‚   â”œâ”€â”€ proactive_suggestions.md      â† ìë™ ì œì•ˆ
  â”‚   â”œâ”€â”€ skill_repository.md           â† ìŠ¤í‚¬ ì €ì¥ì†Œ ê´€ë¦¬
  â”‚   â”œâ”€â”€ socratic_interview.md         â† ì†Œí¬ë¼í‹± ì¸í„°ë·°
  â”‚   â”œâ”€â”€ tdd_for_skills.md             â† TDD for Skills
  â”‚   â””â”€â”€ version_management.md         â† ë²„ì „ ê´€ë¦¬
  â””â”€â”€ scripts/
      â”œâ”€â”€ init_skill.py                 â† ìŠ¤í‚¬ ì´ˆê¸°í™”
      â”œâ”€â”€ quick_validate.py             â† ë¹ ë¥¸ ê²€ì¦
      â””â”€â”€ tdd_skill_tester.py           â† TDD í…ŒìŠ¤í„°
  ```

- **ê°œëŸ‰ ë°©í–¥**: ì´ ìŠ¤í‚¬ì„ OpenClaw ë´‡ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •
  - OpenClawì˜ ìŠ¤í‚¬ êµ¬ì¡°(`skills/[name]/SKILL.md`)ì— ë§ëŠ” ì¶œë ¥ í˜•ì‹
  - `src/agents/skills.ts`ì˜ ë©”íƒ€ë°ì´í„° íŒŒì‹±ê³¼ í˜¸í™˜ë˜ëŠ” YAML frontmatter
  - OpenClawì˜ `allowed-tools` í˜•ì‹ ì¤€ìˆ˜
  - ìŠ¤í‚¬ ì €ì¥ì†Œ ê²½ë¡œë¥¼ OpenClawì˜ `skills/` ë””ë ‰í† ë¦¬ë¡œ ë³€ê²½
  - MCP í†µí•© ë¶€ë¶„ì„ OpenClawì˜ í”ŒëŸ¬ê·¸ì¸ SDK(`src/plugin-sdk/`)ì™€ ì—°ë™
  - TDD í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ OpenClaw í…ŒìŠ¤íŠ¸ ì¸í”„ë¼(vitest)ì™€ í˜¸í™˜

## ì°¸ê³ í•  ê°€ì´ë“œ ë¬¸ì„œ
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/02-multi-agent-architecture.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/02-í™œìš©íŒ.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/03-ë©€í‹°ì—ì´ì „íŠ¸.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/05-skill-builder.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/06-team-builder-skill.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/06-ìŠ¤í‚¬ë¹Œë”.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/07-team-attraction-analysis.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/openclaw-master-guide/09-skill-tutorial.md`
- `ì—°êµ¬ìë£Œ/ê°œì„ ì‚¬í•­/agent-skill-builder-pro.skill` (ZIP â†’ /tmpì—ì„œ ì••ì¶• í•´ì œ í›„ ì°¸ì¡°)

## ì‚°ì¶œë¬¼
- ê¸°ëŠ¥ ê°œì„  ì½”ë“œ (ì§ì ‘ íŒŒì¼ ìˆ˜ì •)
- ìƒˆ ìŠ¤í‚¬ (í•„ìš” ì‹œ skills/ ë””ë ‰í† ë¦¬)
- `.sync/agents/agent-4-feature.md`ì— ì‘ì—… ë¡œê·¸ ê¸°ë¡

## ì£¼ì˜ì‚¬í•­
- ê¸°ì¡´ API/ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¹¨ëœ¨ë¦¬ì§€ ì•Šë„ë¡ í•  ê²ƒ
- ìƒˆ ê¸°ëŠ¥ì€ ìµœì†Œí•œì˜ êµ¬í˜„ìœ¼ë¡œ (over-engineering ê¸ˆì§€)
- MCP ë¸Œë¦¿ì§€ëŠ” í”„ë¡œí† íƒ€ì… ìˆ˜ì¤€ - ì™„ë²½í•  í•„ìš” ì—†ìŒ
- ì»¤ë°‹í•˜ì§€ ë§ ê²ƒ (íŒ€ì¥ì´ ë¦¬ë·° í›„ ì»¤ë°‹)
