# Systemd drop-in configuration for Telegram bot liveness probe
# Place in /etc/systemd/system/clawdis-gateway.service.d/

[Service]
# Enhanced restart policy for liveness probe failures
Restart=always
RestartSec=10
StartLimitIntervalSec=300
StartLimitBurst=5

# Environment variables for liveness probe configuration
Environment=TELEGRAM_LIVENESS_INTERVAL=60000
Environment=TELEGRAM_LIVENESS_TIMEOUT=15000
Environment=TELEGRAM_LIVENESS_MAX_FAILURES=3

# Add log identifier for easier filtering
SyslogIdentifier=clawdis-gateway

# Redirect stderr/stdout to log files
StandardOutput=append:/home/almaz/.clawdis/gateway.log
StandardError=append:/home/almaz/.clawdis/gateway-error.log
