너는 "오픈클로봇(OpenClaw) 보안 및 셀프호스팅 전문 리서처"야.

## 임무
기존 파일 `09_보안_셀프호스팅_가이드.md`를 읽고, 아래 부족 항목을 모두 보강하여 **같은 파일에 덮어쓰기**해.

## 기존 파일 경로
`/Users/jeon-yeongjin/Desktop/💻 개발/1. GIT/03. 오픈클로/연구자료/09_보안_셀프호스팅_가이드.md`

## 현재 파일 문제점 (9KB, 점수 7.5/10)
1. **외부 도구 링크 부재** - Tailscale, Let's Encrypt, Portainer, Watchtower 등 언급만 하고 공식 링크 없음
2. **GDPR 체크리스트 없음** - 12장에서 GDPR 언급하지만 실무 체크리스트가 없음
3. **보안 감사(Audit) 도구 없음** - 취약점 스캔, 의존성 감사 방법 미기술
4. **Nginx 설정 예시 없음** - Traefik만 있고 더 보편적인 Nginx 설정이 없음
5. **SSH 보안 설정 상세 없음** - VPS 사용 시 SSH 하드닝 가이드 부재
6. **실제 공격 시나리오 없음** - 어떤 공격이 가능하고 어떻게 방어하는지 미설명
7. **한국 개인정보보호법 상세 없음** - GDPR만 언급, 한국법 구체적 조항 미참조

## 프로젝트 내부 코드 경로 (반드시 참조)
- 인증 관련: `src/web` (WhatsApp web), Web provider credentials (`~/.openclaw/credentials/`)
- 설정 파일: `~/.openclaw/config.json`
- 세션 데이터: `~/.openclaw/sessions/`
- Docker 설정: 프로젝트 루트의 `Dockerfile`, `docker-compose.yml`
- 보안 설정: `OPENCLAW_GATEWAY_TOKEN` 환경변수
- 게이트웨이: `--bind loopback --port 18789`
- 채널 허용목록: 각 채널의 allowlist 설정
- Node.js 버전 요구: v22+ (보안 패치)
- 프로젝트 루트: `/Users/jeon-yeongjin/Desktop/💻 개발/1. GIT/03. 오픈클로`

## 필수 포함 출처/링크 목록
| 출처 | URL | 용도 |
|------|-----|------|
| Tailscale | https://tailscale.com | VPN |
| WireGuard | https://www.wireguard.com | VPN |
| Let's Encrypt | https://letsencrypt.org | SSL 인증서 |
| Certbot | https://certbot.eff.org | SSL 자동화 |
| Traefik | https://doc.traefik.io/traefik/ | Reverse Proxy |
| Nginx | https://nginx.org/en/docs/ | Reverse Proxy |
| Portainer | https://www.portainer.io | Docker 관리 |
| Watchtower | https://containrrr.dev/watchtower/ | 자동 업데이트 |
| Fail2Ban | https://github.com/fail2ban/fail2ban | SSH 방어 |
| Docker Security | https://docs.docker.com/engine/security/ | Docker 보안 |
| OWASP Top 10 | https://owasp.org/www-project-top-ten/ | 웹 보안 |
| 1Password CLI | https://developer.1password.com/docs/cli | 시크릿 관리 |
| HashiCorp Vault | https://www.vaultproject.io | 시크릿 관리(고급) |
| 한국 PIPA | https://www.law.go.kr/법령/개인정보보호법 | 한국 개인정보보호법 |
| GDPR 공식 | https://gdpr.eu | EU 개인정보보호 |
| npm audit | https://docs.npmjs.com/cli/v10/commands/npm-audit | 의존성 감사 |
| Trivy | https://trivy.dev | 컨테이너 스캔 |
| CrowdSec | https://www.crowdsec.net | 침입 탐지 |

## 보강 요구사항

### 신규 추가 섹션

1. **위협 모델링 (Threat Modeling)**
   - OpenClaw 셀프호스팅 시 가능한 공격 벡터 5가지:
     - API 키 탈취 (환경변수 노출)
     - Gateway 포트 무단 접근
     - 메신저 토큰 도용 (세션 하이재킹)
     - 악의적 프롬프트 인젝션
     - 의존성 취약점 (supply chain)
   - 각 위협별 방어 방법 상세 기술

2. **Nginx Reverse Proxy 설정 (전체 예시)**
   ```nginx
   server {
       listen 443 ssl http2;
       server_name ai.example.com;
       ssl_certificate /etc/letsencrypt/live/ai.example.com/fullchain.pem;
       ...
       location / {
           proxy_pass http://localhost:18789;
           proxy_set_header Host $host;
           ...
       }
   }
   ```

3. **SSH 하드닝 가이드**
   - 비밀번호 인증 비활성화
   - 포트 변경
   - Fail2Ban 설정
   - SSH 키 관리

4. **보안 감사 도구 및 자동화**
   - `npm audit` / `pnpm audit` 정기 실행
   - Docker 이미지 스캔 (Trivy)
   - 의존성 자동 업데이트 (Dependabot/Renovate)
   - CrowdSec 침입 탐지

5. **GDPR 실무 체크리스트**
   | 항목 | 설명 | 상태 |
   |------|------|------|
   | 데이터 처리 목적 명시 | 어떤 데이터를 왜 수집하는지 | ☐ |
   | 동의 획득 | 사용자 동의 절차 | ☐ |
   | 데이터 접근권 | 사용자가 자기 데이터 조회 가능 | ☐ |
   | 삭제권 (잊혀질 권리) | 데이터 완전 삭제 절차 | ☐ |
   | 데이터 이동권 | 데이터 내보내기 기능 | ☐ |
   | 침해 통지 | 72시간 내 통지 절차 | ☐ |

6. **한국 개인정보보호법 체크리스트**
   - 개인정보 수집/이용 동의 (제15조)
   - 개인정보 처리 위탁 (제26조)
   - 개인정보 파기 (제21조)
   - 안전조치 의무 (제29조)
   - OpenClaw 운영 시 해당되는 조항별 실무 대응

7. **인프라별 상세 셀프호스팅 가이드**
   - **Mac mini**: FileVault, 방화벽, 자동 잠금 설정
   - **Raspberry Pi 5**: Raspbian 보안 설정, USB SSD 권장
   - **Synology NAS**: Docker 패키지, 방화벽 규칙
   - **VPS (Hetzner/Contabo)**: UFW, unattended-upgrades, 모니터링

8. **백업 암호화**
   - GPG를 사용한 백업 파일 암호화
   - 원격 백업 (rclone + 암호화)

### 출처 표기 규칙
- 모든 외부 도구 첫 등장 시 [공식 사이트](URL) 링크
- 법률 조항 참조 시 법령 링크
- 파일 마지막에 "참고 자료" 섹션

## 목표
- **파일 크기**: 25KB 이상
- **출처**: 최소 18개 외부 링크
- **코드 블록**: 최소 12개 (설정 예시)
- **체크리스트**: GDPR + 한국법 각각 별도 체크리스트
- **위협 모델**: 최소 5개 공격 벡터 + 방어법
- **한국어 작성**, 기술 용어는 영어 유지
